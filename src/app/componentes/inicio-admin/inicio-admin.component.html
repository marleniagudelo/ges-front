<app-encabezado></app-encabezado>
<div class="container">

  <div class=" me-2 mt-3">
    <div class="col-sm-12 text-end">
      <div class="btn-group">
        <a routerLink="/crear-orden" class="btn btn-primary" style="background-color: #0911CE">Crear orden</a>
        <a routerLink="/gestionar-clientes" class="btn btn-outline-primary">Clientes</a>
        <a routerLink="/gestion-usuarios" class="btn btn-outline-primary">Usuarios</a>
      </div>

    </div>
  </div>


  <div class="row mt-3">
    <div class="btn-group">
      <a  class="btn btn-outline-primary" (click)="mostrarPendientes()">Ordenes pendientes</a>
      <a  class="btn btn-outline-success" (click)="mostrarEnProceso()">Ordenes en proceso</a>
      <a  class="btn btn-outline-secondary" (click)="mostrarFinalizadas()">Ordenes finalizadas</a>
    </div>
  </div>


  <div class="row">
    <div class="col col-sm-12 mt-5">
      <span class="fs-3">{{estadoOrden}}</span>
    </div>
  </div>
  <div class="row">
    <div class="col col-sm-12">
      <table class="table table-hover table-bordered">
        <caption>Ordenes de servicios</caption>
        <thead class="table-dark">
        <tr>
          <th scope="col"># Orden</th>
          <th scope="col">Documento/NIT</th>
          <th scope="col">Cliente</th>
          <th scope="col">Técnico</th>
          <th scope="col">Descripción de la novedad</th>
          <th scope="col">Fecha de orden</th>
          <th scope="col">Estado</th>
          <th scope="col" class="text-center"></th>
          <th scope="col" class="text-center"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let orden of listadoOrdenes">
          <td>{{orden.id_orden}}</td>
          <td>{{orden.nit}}</td>
          <td>{{orden.razon_social}}</td>
          <td>{{orden.nombre_usuario}}</td>
          <td>{{orden.descripcion_novedad}}</td>
          <td>{{orden.fecha_creacion}}</td>
          <td>{{orden.nombre_estado}}</td>
          <td class="text-center">
            <a *ngIf="orden.id_estado !=='3' && orden.id_estado !=='2'" (click)="editarOrden(orden)" class="btn btn-outline-success">Editar</a>
            <a *ngIf="orden.id_estado !== '1'" class="btn btn-outline-primary" (click)="verDetalle(orden)">Detalle</a>
          </td>
          <td class="text-center">
            <a *ngIf="orden.id_estado !== '3' && orden.id_estado !== '2'" (click)="cancelarOrden(orden.id_orden)" class="btn btn-outline-danger">Cancelar</a>
          </td>
        </tr>

        </tbody>
      </table>
    </div>
  </div>

</div>

